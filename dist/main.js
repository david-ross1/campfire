(()=>{"use strict";var e=new Image;e.src="./dist/images/fire.png";var t={leftPressed:!1,rightPressed:!1};function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const i=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.canvas=e,this.ctx=t,this.y=e.height-100,this.x=n||e.width/2,this.gameOver=!1}var a,r;return a=i,(r=[{key:"update",value:function(){t.rightPressed&&this.x!==this.canvas.width-50&&(this.x+=5),t.leftPressed&&0!==this.x&&(this.x-=5)}},{key:"draw",value:function(t){var n=this.x+17,i=this.canvas.height-55;if(this.ctx.drawImage(e,0,0,1e3,1e3,this.x,this.canvas.height-127,370,360),t.length)for(var a=0;a<t.length;a++){var r=t[a];this.ctx.drawImage(r.dropSize,0,0,1e3,1e3,n,i,370,100),i-=18}}}])&&n(a.prototype,r),i}();function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=new Image;r.src="./dist/images/rain_large.png";const s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=n,this.canvas=t,this.x=Math.random()*t.width,this.y=-110,this.counted=!1,this.dropSize=r}var t,n;return t=e,(n=[{key:"updateHeight",value:function(){this.canvas.height+50!=this.y&&(this.y+=5)}},{key:"draw",value:function(){this.ctx.drawImage(this.dropSize,0,0,1e3,1e3,this.x,this.y,240,240)}}])&&a(t.prototype,n),e}();var o=!0;document.addEventListener("keydown",(function(e){13===(e.which||e.keyCode)&&(e.preventDefault(),o=!1===o)}));var c=document.querySelector("audio");c&&window.addEventListener("keydown",(function(e){9===(e.which||e.keyCode)&&(e.preventDefault(),c.paused?c.play():c.pause())}));var d=[],h=[],u=0,f=0;document.addEventListener("keydown",(function(e){switch(e.preventDefault(),e.keyCode){case 39:t.rightPressed=!0;break;case 37:t.leftPressed=!0}})),document.addEventListener("keyup",(function(e){switch(e.preventDefault(),e.keyCode){case 39:t.rightPressed=!1;break;case 37:t.leftPressed=!1;break;case 32:u=0,d=[],h=[],g=new i(v,l),time=0}}));var v=document.getElementById("canvas"),l=v.getContext("2d");v.width=1e3,v.height=650;var g=new i(v,l),y=document.getElementById("canvasdiv");!function e(){var t=document.getElementById("button");if(t&&t.remove(),o){var n=document.createElement("button");n.setAttribute("id","button"),n.textContent="Press ENTER to BEGIN press tab for music",y.appendChild(n)}if(u>=3){var i=document.createElement("button");i.setAttribute("id","button"),i.textContent="Staying dry is easy as putting socks on a rooster! Press SPACEBAR to restart.",y.appendChild(i),g.gameOver=!0,requestAnimationFrame(e)}g.gameOver||(l.clearRect(0,0,v.width,v.height),g.draw(d),g.update(),function(e){for(var t=0,n=0;n<e.length;n++){var i;null!==(i=e[n].dropSize)&&void 0!==i&&i.currentSrc.includes("rain")&&t++}u=t}(d),function(e){if(!o&&f%7==0){var t=new s(e,l);h.push(t)}for(var n=0;n<h.length;n++){if(h[n].y===g.y&&h[n].x>g.x-40&&h[n].x<g.x+90){-1===d.indexOf(h[n])&&(h[n].counted=!0,d.push(h[n]),g.y-=20);break}h[n].updateHeight(),-1===d.indexOf(h[n])&&h[n].y<e.height&&h[n].draw(),h[n].y>e.height&&h.shift(h[n])}}(v),f++,requestAnimationFrame(e))}()})();
//# sourceMappingURL=main.js.map