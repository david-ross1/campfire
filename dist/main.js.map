{"version":3,"sources":["webpack://campfire/./src/scripts/util.js","webpack://campfire/./src/scripts/fire.js","webpack://campfire/./src/scripts/rain.js","webpack://campfire/./src/index.js"],"names":["FIRE","Image","src","keys","leftPressed","rightPressed","canvas","ctx","x","this","y","height","width","gameOver","dropped","cx","cy","drawImage","length","i","rain","dropSize","LARGERAIN","Math","random","counted","paused","document","addEventListener","event","which","keyCode","preventDefault","audio","querySelector","window","play","pause","drops","raindrops","hits","gameFrame","e","thisfire","Fire","time","getElementById","getContext","canvasdiv","animate","removeButton","remove","button","createElement","setAttribute","textContent","appendChild","requestAnimationFrame","clearRect","draw","update","count","currentSrc","includes","rainCount","newRain","Rain","push","indexOf","updateHeight","shift","makeItRain"],"mappings":"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","file":"main.js","sourcesContent":["export const FIRE = new Image();\nFIRE.src = './dist/images/fire.png'\n\nexport const keys = {\n  leftPressed: false,\n  rightPressed: false\n}\n","import { FIRE, keys } from './util'\n\nclass Fire {\n  constructor(canvas, ctx, x) {\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.y = canvas.height - 100;\n    this.x = x || canvas.width / 2;\n    this.gameOver = false;\n  }\n\n  update() {\n    if (keys.rightPressed && (this.x !== this.canvas.width - 50)) this.x += 5;\n    if (keys.leftPressed && (this.x !== 0)) this.x -= 5;\n  }\n\n  draw(dropped) {\n    let cx = this.x + 17;\n    let cy = this.canvas.height - 55;\n    this.ctx.drawImage(FIRE, 0, 0, 1000, 1000, this.x, this.canvas.height - 127, 370, 360);\n    if (dropped.length) {\n      for (let i = 0; i < dropped.length; i++) {\n        let rain = dropped[i];\n        this.ctx.drawImage(rain.dropSize, 0, 0, 1000, 1000, cx, cy, 370, 100);\n        cy = cy - 18;\n      }\n    }\n  }\n }\n\nexport default Fire;","const LARGERAIN = new Image();\nLARGERAIN.src = \"./dist/images/rain_large.png\";\n\nclass Rain {\n  constructor(canvas, ctx) {\n    this.ctx = ctx;\n    this.canvas = canvas;\n    this.x = Math.random() * canvas.width;\n    this.y = -110;\n    this.counted = false;\n    this.dropSize = LARGERAIN\n  }\n  updateHeight() {\n    const dy = this.canvas.height + 50;\n    if (dy != this.y) this.y += 5;\n  }\n  draw() {\n    this.ctx.drawImage(this.dropSize, 0, 0, 1000, 1000, this.x, this.y, 240, 240);\n  }\n}\n\nexport default Rain;\n","import Fire from './scripts/fire'\nimport Rain from './scripts/rain'\nimport { keys } from './scripts/util'\n\n\n// let isRunning = true\nlet paused = true; \n\ndocument.addEventListener('keydown', function (event) {\n  var key = event.which || event.keyCode;\n  if (key === 13) {\n    event.preventDefault();\n    // audio.paused ? audio.play() : audio.pause();\n    // isRunning === undefined ? isRunning = false : isRunning = true \n    paused === false ? paused = true  : paused = false; \n  }\n});\n\n\nvar audio = document.querySelector('audio');\n\nif (audio) {\n  window.addEventListener('keydown', function (event) {\n    var key = event.which || event.keyCode;\n    if (key === 9) {\n      event.preventDefault();\n      audio.paused ? audio.play() : audio.pause();\n    }\n  });\n}\n\n\n// var splash = document.querySelector('splash');\n\n\n// if (this.gameOver) {\n//   // window.addEventListener('keydown', function (event) {\n//   //   var key = event.which || event.keyCode;\n//   //   if (key === 9) {\n//   //     event.preventDefault();\n//   //     audio.paused ? audio.play() : audio.pause();\n//   //   }\n//   // });\n//   splash.play()\n// }\n\n\nconst slogan = \"Staying dry is easy as putting socks on a rooster! Press SPACEBAR to restart.\"\n\nlet drops = [];\nlet raindrops = [];\nlet hits = 0;\nlet gameFrame = 0;\n\ndocument.addEventListener('keydown', function (e) {\n  e.preventDefault();\n  switch (e.keyCode) {\n    case 39:\n      keys.rightPressed = true;\n      break;\n    case 37:\n      keys.leftPressed = true;\n      break;\n  }\n});\n\ndocument.addEventListener('keyup', function (e) {\n  e.preventDefault();\n\n  switch (e.keyCode) {\n    case 39:\n      keys.rightPressed = false;\n      break;\n    case 37:\n      keys.leftPressed = false;\n      break;\n    case 32:\n      restart();\n      break;\n  }\n});\n\n\nfunction rainCount(drops) {\n  let count = 0;\n  for (let i = 0; i < drops.length; i++) {\n    let drop = drops[i];\n    if (drop.dropSize?.currentSrc.includes('rain')) {\n      count++;\n    }\n  }\n\n  hits = count;\n}\n\nfunction makeItRain(canvas) {\n  if (!paused) {\n  if (gameFrame % 7 == 0) {\n    let newRain = new Rain(canvas, ctx);\n    raindrops.push(newRain);\n  }\n}\n\n\n  for (let i = 0; i < raindrops.length; i++) {\n    if ((raindrops[i].y === thisfire.y) && (raindrops[i].x > thisfire.x - 40 && raindrops[i].x < thisfire.x + 90)) {\n\n      if (drops.indexOf(raindrops[i]) === -1) {\n        {\n          raindrops[i].counted = true;\n          drops.push(raindrops[i]);\n        }\n        thisfire.y -= 20;\n      }\n      break;\n    }\n  \n \n\n\n    raindrops[i].updateHeight();\n\n\n    if (drops.indexOf(raindrops[i]) === -1 && raindrops[i].y < canvas.height) raindrops[i].draw();\n    if (raindrops[i].y > canvas.height) raindrops.shift(raindrops[i])\n  }\n\n}\n\n\nconst canvas = document.getElementById(\"canvas\");\nconst ctx = canvas.getContext('2d');\n// canvas.width =   950;\n// canvas.height =   540;\ncanvas.width =   1000;\ncanvas.height =   650;\nlet thisfire = new Fire(canvas, ctx);\nconst canvasdiv = document.getElementById(\"canvasdiv\");\n\nfunction animate() {\n\n  let removeButton = document.getElementById(\"button\");\n  if (removeButton) removeButton.remove();\n\n\n  if (paused) {\n    let button = document.createElement('button'); \n    button.setAttribute('id', 'button'); \n    button.textContent = 'Press ENTER to BEGIN press tab for music'\n    canvasdiv.appendChild(button); \n  }\n\n\n  if (hits >= 3) {\n    let button = document.createElement(\"button\");\n    button.setAttribute(\"id\", \"button\");\n    button.textContent = slogan\n    canvasdiv.appendChild(button);\n    thisfire.gameOver = true;\n    // audio.pause();\n    requestAnimationFrame(animate);\n  }\n\n  if (!thisfire.gameOver) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    thisfire.draw(drops);\n    thisfire.update();\n    rainCount(drops);\n    makeItRain(canvas);\n    gameFrame++;\n    requestAnimationFrame(animate);\n  }\n}\n\nanimate();\n\nfunction restart() {\n  hits = 0;\n  drops = [];\n  raindrops = [];\n  thisfire = new Fire(canvas, ctx);\n  time = 0; \n}\n\n"],"sourceRoot":""}